# Copyright 2020 Adobe
# All Rights Reserved.

# NOTICE: Adobe permits you to use, modify, and distribute this file in
# accordance with the terms of the Adobe license agreement accompanying
# it. If you have received this file from a source other than Adobe,
# then your use, modification, or distribution of it requires the prior
# written permission of Adobe.

language: node_js
os:
  - windows
  - linux
  - osx

node_js:
  - "10"
  - "10.15"
  - "10.19"
  - "12"
  - "14"

install:
  - npm version
  - npm install
jobs:
  include:
    - script: npm test
    - stage: release
      if: [ "$TRAVIS_OS_NAME" == "linux" ]
      node_js: lts/*
#       script: skip
      before_deploy: "echo 'Releasing to npm'"
      deploy:
#         on:
#           branch: master
        provider: script
        skip_cleanup: true
        script:
          - echo "Released!"
          # - npm run semantic-release
